<div class="playlist-container">
    <mat-card *ngIf="playlists.length > 0; else loading">
        <mat-card-header>
            <mat-card-title>Your Playlists</mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <mat-accordion>
                <mat-expansion-panel *ngFor="let playlist of playlists">
                    <mat-expansion-panel-header>
                        <mat-panel-title>
                            {{playlist.name}}
                        </mat-panel-title>
                    </mat-expansion-panel-header>
                    <ng-template matExpansionPanelContent>
                        <img mat-card-image [src]="playlist.imageUrl" alt="Album Cover">
                        <br>
                        <b>Created By: </b>{{playlist.createdBy}}
                        <br>
                        <b>Collaborative: </b>{{playlist.isCollaborative}}
                        <br>
                        <b>Public: </b>{{playlist.isPublicAccess}}
                        <mat-action-row>
                            <a [href]="playlist.spotifyUrl">
                                <button mat-button class="spotify-button">View on Spotify</button>
                            </a>
                            <button mat-button
                                    class="info-button"
                                    (click)="generateInfo(playlist.id)">Generate Playlist Info</button>
                        </mat-action-row>
                    </ng-template>
                </mat-expansion-panel>
            </mat-accordion>
            <button mat-button
                    *ngIf="loadMoreFlag"
                    class="load-more"
                    (click)="loadMore()">
                Load More
                <mat-icon>keyboard_arrow_down</mat-icon>
            </button>
        </mat-card-content>
        <mat-card-footer>
            Total Playlists: {{playlists.length}}
        </mat-card-footer>
    </mat-card>
    <ng-template #loading>
        <mat-spinner color="white"></mat-spinner>
    </ng-template>
</div>
